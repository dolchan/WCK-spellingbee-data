x <- readLines(filename)
if (length(grep("--", x)) > 0)
x <- x[-(1:grep("--", x))]
x <- x[sapply(x, str_length) > 0]
grep("***", x, fixed = TRUE)
new_word_loc <- grep("***", x, fixed = TRUE)[1]
new_word_loc
alt_loc <- grep("OR", x)
alt_loc
alt_loc <- grep("-OR-", x)
alt_words <- x[alt_loc]
sum(grepl("-OR-", alt_words)) > 0
if (sum(grepl("-OR-", alt_words)) > 0) {
alt_words_df <-
str_split(alt_words, "-OR-") %>%
unlist() %>%
matrix(nrow = 2) %>%
t() %>%
data.frame()
colnames(alt_words_df) <- c("word", "alt")
} else {
alt_words_df <- NULL
}
x[-alt_loc]
alt_loc
x <- readLines(filename)
if (length(grep("--", x)) > 0)
x <- x[-(1:grep("--", x))]
x <- x[sapply(x, str_length) > 0]
new_word_loc <- grep("***", x, fixed = TRUE)[1]
alt_loc <- grep("-OR-", x)
alt_words <- x[alt_loc]
if (sum(grepl("-OR-", alt_words)) > 0) {
alt_words_df <-
str_split(alt_words, "-OR-") %>%
unlist() %>%
matrix(nrow = 2) %>%
t() %>%
data.frame()
colnames(alt_words_df) <- c("word", "alt")
x <- bind_rows(tibble(word = x[-alt_loc], alt = ""),
tibble(alt_words_df))
} else {
x <- tibble(word = x[-alt_loc], alt = "")
}
x <- cbind(x, new_word = 1)
x <- readLines(filename)
if (length(grep("--", x)) > 0)
x <- x[-(1:grep("--", x))]
x <- x[sapply(x, str_length) > 0]
new_word_loc <- grep("***", x, fixed = TRUE)[1]
alt_loc <- grep("-OR-", x)
alt_words <- x[alt_loc]
if (sum(grepl("-OR-", alt_words)) > 0) {
alt_words_df <-
str_split(alt_words, "-OR-") %>%
unlist() %>%
matrix(nrow = 2) %>%
t() %>%
data.frame()
colnames(alt_words_df) <- c("word", "alt")
x <- bind_rows(tibble(word = x[-alt_loc], alt = ""),
tibble(alt_words_df))
} else {
x <- tibble(word = x, alt = "")
}
new_word_loc
read_word_list <- function(filename) {
x <- readLines(filename)
if (length(grep("--", x)) > 0)
x <- x[-(1:grep("--", x))]
x <- x[sapply(x, str_length) > 0]
new_word_loc <- grep("***", x, fixed = TRUE)[1]
if (is.na(new_word_loc)) {
new_word_loc <- length(x) + 1
}
alt_loc <- grep("-OR-", x)
alt_words <- x[alt_loc]
if (sum(grepl("-OR-", alt_words)) > 0) {
alt_words_df <-
str_split(alt_words, "-OR-") %>%
unlist() %>%
matrix(nrow = 2) %>%
t() %>%
data.frame()
colnames(alt_words_df) <- c("word", "alt")
x <- bind_rows(tibble(word = x[-alt_loc], alt = ""),
tibble(alt_words_df))
} else {
x <- tibble(word = x, alt = "")
}
x <- cbind(x, new_word = 1)
x$new_word[1:(new_word_loc-1)] <- 0
x
}
read_word_list(word_list_2022_files[1])
read_word_list(word_list_2022_files[2])
read_word_list(word_list_2022_files[2]) %>% tail
read_word_list(word_list_2022_files[3]) %>% tail
read_word_list(word_list_2022_files[4]) %>% tail
read_word_list(word_list_2022_files[5]) %>% tail
read_word_list(word_list_2022_files[56]) %>% tail
read_word_list(word_list_2022_files[6]) %>% tail
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "ID") %>%
mutate(level = sub("^.+_", "", ID),
group = sub("_.+$", "", ID))
head(word_list_2022)
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "ID") %>%
mutate(bee = sub("bee", "", sub("^.+_", "", ID)),
group = sub("_.+$", "", ID))
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
word_list_2022 %>% head
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "ID") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", ID)),
group = sub("^.+_", "", ID))
word_list_2022 %>% head
word_list_2022$group
word_list_2022$group %>% unique()
word_list_2022 %>% head
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "ID") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", ID)),
group = sub("^.+_", "", ID)) %>%
mutate(ID = NULL)
word_list_2022 %>% head
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "id") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", ID)),
group = sub("^.+_", "", ID))
word_list_2022_files <-
c(
onebee_study = "2022-word-list-onebee-study.txt",
onebee_champions = "2022-word-list-onebee-champions.txt",
twobee_study = "2022-word-list-twobee-study.txt",
twobee_champions = "2022-word-list-twobee-champions.txt",
threebee_champions = "2022-word-list-threebee-study.txt",
threebee_champions = "2022-word-list-threebee-champions.txt"
)
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "id") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", id)),
group = sub("^.+_", "", id))
word_list_2022$id <- 1:nrow(word_list_2022)
word_list_2022 %>% head
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "id") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", id)),
group = sub("^.+_", "", id)) %>%
mutate(nTried = 0, nMistakes = 0, weight = 1)
word_list_2022$id <- 1:nrow(word_list_2022)
word_list_2022 %>% head
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
head(words_of_extreme)
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_champions <- word_list_2022
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
mutate(alt = ifelse(is.na(alt), "", alt)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>% head
words_of_extreme_xtra %>% filter(group == "extreme") %>% head
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(new_word = 0) %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
mutate(alt = ifelse(is.na(alt), "", alt)) ->
words_of_extreme_xtra
words_of_extreme_xtra$id <- 1:nrow(words_of_extreme_xtra)
words_of_extreme_xtra$nTried <- 0
words_of_extreme_xtra$nMistakes <- 0
words_of_extreme_xtra$weight <- 1
words_of_extreme_xtra %>% filter(group == "extreme") %>% head
words_of_extreme %>% filter(group == "extreme") %>% head
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(new_word = 0) %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, new_word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
mutate(alt = ifelse(is.na(alt), "", alt)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>% filter(group == "extreme") %>% head
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
head(words_of_extreme)
words_of_extreme %>%
mutate(new_word = 0) %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
head(words_of_extreme)
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, new_word, group, bee)
words_of_extreme_xtra %>%
select(word, new_word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
mutate(alt = ifelse(is.na(alt), "", alt)) ->
words_of_extreme_xtra
words_of_extreme_xtra$id <- 1:nrow(words_of_extreme_xtra)
words_of_extreme_xtra$nTried <- 0
words_of_extreme_xtra$nMistakes <- 0
words_of_extreme_xtra$weight <- 1
words_of_extreme_xtra %>% filter(group = "extreme") %>% head
words_of_extreme_xtra %>% filter(group == "extreme") %>% head
?replace_na
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, new_word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(new_word = 0, alt = "") ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, new_word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(list(new_word = 0, alt = "")) ->
words_of_extreme_xtra
words_of_extreme_xtra$id <- 1:nrow(words_of_extreme_xtra)
words_of_extreme_xtra$nTried <- 0
words_of_extreme_xtra$nMistakes <- 0
words_of_extreme_xtra$weight <- 1
words_of_extreme_xtra %>% filter(group == "extreme") %>% head()
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme_xtra
words_of_extreme_xtra %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(list(new_word = 0, alt = "")) ->
words_of_extreme_xtra
words_of_extreme_xtra$id <- 1:nrow(words_of_extreme_xtra)
words_of_extreme_xtra$nTried <- 0
words_of_extreme_xtra$nMistakes <- 0
words_of_extreme_xtra$weight <- 1
words_of_extreme_xtra %>% filter(group = "extreme") %>% head()
words_of_extreme_xtra %>% filter(group == "extreme") %>% head()
words_of_extreme_xtra$new_word %>% sum
words_of_champions %>% head
write_json(words_of_champions, path = "words_of_champions_2022.json", pretty = TRUE)
library(jsonlite)
write_json(words_of_champions, path = "words_of_champions_2022.json", pretty = TRUE)
write_json(words_of_champions, path = "words_of_champions.json", pretty = TRUE)
write_json(words_of_extreme_xtra, path = "words_of_extreme_2022.json", pretty = TRUE)
write_json(words_of_extreme_xtra, path = "words_of_extreme.json", pretty = TRUE)
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme
words_of_extreme %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(list(new_word = 0, alt = "")) ->
words_of_extreme
words_of_extreme$id <- 1:nrow(words_of_extreme_xtra)
words_of_extreme$nTried <- 0
words_of_extreme$nMistakes <- 0
words_of_extreme$weight <- 1
words_of_extreme$id <- 1:nrow(words_of_extreme)
words_of_extreme$nTried <- 0
words_of_extreme$nMistakes <- 0
words_of_extreme$weight <- 1
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme
words_of_extreme %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(list(new_word = 0, alt = "")) ->
words_of_extreme
words_of_extreme$id <- 1:nrow(words_of_extreme)
words_of_extreme$nTried <- 0
words_of_extreme$nMistakes <- 0
words_of_extreme$weight <- 1
write_csv(words_of_champions, file = "words_of_champions_2022.csv")
write_csv(words_of_extreme, file = "words_of_extreme_2022.csv")
library(jsonlite)
write_json(words_of_champions, path = "words_of_champions_2022.json", pretty = TRUE)
write_json(words_of_champions, path = "words_of_champions.json", pretty = TRUE)
write_json(words_of_extreme, path = "words_of_extreme_2022.json", pretty = TRUE)
write_json(words_of_extreme, path = "words_of_extreme.json", pretty = TRUE)
getwd()
read_json("words_of_champions_2022.json") -> x
head(x)
as.data.frame(x) -> x2
head(x)
head(x2)
class(x)
bind_rows(x) -> x2
head(x2)
head(words_of_champions)
colnames(words_of_champions)
colnames(x2)
pwd
getwd()
dir()
old_woc_filename <- "words_of_champions_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename)
old_woc_filename <- "words_of_extreme_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename)
old_woc_filename <- "words_of_champions_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename, pretty = TRUE)
old_woc_filename <- "words_of_extreme_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename, pretty = TRUE)
words_of_champions %>% filter(bee == "three")
words_of_champions %>% filter(bee == "three", group == "study")
word_list_2022_files <-
c(
onebee_study = "2022-word-list-onebee-study.txt",
onebee_champions = "2022-word-list-onebee-champions.txt",
twobee_study = "2022-word-list-twobee-study.txt",
twobee_champions = "2022-word-list-twobee-champions.txt",
threebee_study = "2022-word-list-threebee-study.txt",
threebee_champions = "2022-word-list-threebee-champions.txt"
)
word_list_2022 <-
lapply(word_list_2022_files,
read_word_list) %>%
bind_rows(.id = "id") %>%
mutate(bee = sub("bee", "", sub("_.+$", "", id)),
group = sub("^.+_", "", id)) %>%
mutate(nTried = 0, nMistakes = 0, weight = 1)
word_list_2022$id <- 1:nrow(word_list_2022)
words_of_champions <- word_list_2022
words_of_extreme <- read_csv("merged_word_rev2019-03-24.csv")
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
level2bee_names
level2bee_names <- c(unique(words_of_extreme$level))
level2bee <- c("two", "two", "one", "three")
names(level2bee) <- level2bee_names
level2bee
words_of_extreme %>%
mutate(bee = level2bee[level]) ->
words_of_extreme
words_of_extreme %>%
filter(group != "CWL") ->
words_of_extreme
words_of_extreme %>%
mutate(group_org = group) %>%
mutate(group = "extreme") ->
words_of_extreme
words_of_extreme %>%
filter(!(word %in% words_of_champions$word)) ->
words_of_extreme
words_of_extreme %>%
select(word, group, bee) %>%
full_join(words_of_champions, ., by = c("word", "bee", "group")) %>%
replace_na(list(new_word = 0, alt = "")) ->
words_of_extreme
words_of_extreme$id <- 1:nrow(words_of_extreme)
words_of_extreme$nTried <- 0
words_of_extreme$nMistakes <- 0
words_of_extreme$weight <- 1
write_csv(words_of_champions, file = "words_of_champions_2022.csv")
write_csv(words_of_extreme, file = "words_of_extreme_2022.csv")
library(jsonlite)
write_json(words_of_champions, path = "words_of_champions_2022.json", pretty = TRUE)
write_json(words_of_champions, path = "words_of_champions.json", pretty = TRUE)
write_json(words_of_extreme, path = "words_of_extreme_2022.json", pretty = TRUE)
write_json(words_of_extreme, path = "words_of_extreme.json", pretty = TRUE)
old_woc_filename <- "words_of_champions_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename, pretty = TRUE)
old_woc_filename <- "words_of_extreme_2021.json"
archived_dir <- "../archived"
read_json(file.path(archived_dir, old_woc_filename)) %>%
bind_rows() %>%
mutate(new_word = 0) %>%
write_json(path = old_woc_filename, pretty = TRUE)
words_of_champions %>% filter(bee == "three", group == "study")
